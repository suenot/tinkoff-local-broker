# tinkoff-local-broker
Реализация [Tinkoff Invest API](https://tinkoff.github.io/investAPI/) в виде локального сервера.
Позволяет эмулировать работу биржи для тестирования торговых роботов на исторических данных.

## Что умеет сервер?
По сути все то же самое, что делает реальный брокер при взаимодействии с ним через API:

* автоматическая загрузка и кеширование свечей
* прием и исполнение заявок (лимитных и рыночных)
* корректная блокировка средств и расчет баланса
* списание комиссий
* обновление позиций в портфеле
* ведение списка операций
* расчет прибыли
* отправка событий в стрим

## Запуск сервера
Запустить сервер удобнее всего через докер:
```
docker run --init --rm -p 8080:8080 -v $(pwd)/.cache:/app/.cache vitalets/tinkoff-local-broker
```


## Конфигурация
Для конфигурации брокера нужно отправить специальную заявку указав поле `accountId` = `"config"`,
а сам конфиг положить в поле `figi`:
```

```

## Переход по свечам
```
```

## Разработка
Запуск тестов:
```
npm t
```

Релиз новой версии:
```bash
./scripts/release latest
# или
./scripts/release x.x
```


## Лицензия
MIT @ [Vitaliy Potapov](https://github.com/vitalets)
